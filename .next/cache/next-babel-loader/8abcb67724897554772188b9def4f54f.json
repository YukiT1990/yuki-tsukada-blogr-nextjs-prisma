{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"/Users/yuki.t/Desktop/NextJSPractice/blogr-nextjs-prisma/pages/userfeed/[userId].tsx\";\n\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport Layout from \"../../components/Layout\";\nimport Post from \"../../components/Post\";\n\nvar UserFeed = function UserFeed(props) {\n  return __jsx(Layout, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-3495282894\" + \" \" + \"page\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }, __jsx(\"h1\", {\n    className: \"jsx-3495282894\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, props.user && props.user.name, \"'s Feed\"), __jsx(\"main\", {\n    className: \"jsx-3495282894\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, props.feeds.map(function (post) {\n    return __jsx(\"div\", {\n      key: post.id,\n      className: \"jsx-3495282894\" + \" \" + \"post\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }\n    }, __jsx(Post, {\n      post: post,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 15\n      }\n    }));\n  }))), __jsx(_JSXStyle, {\n    id: \"3495282894\",\n    __self: _this\n  }, \".post.jsx-3495282894{background:white;-webkit-transition:box-shadow 0.1s ease-in;transition:box-shadow 0.1s ease-in;}.post.jsx-3495282894:hover{box-shadow:1px 1px 3px #aaa;}.post.jsx-3495282894+.post.jsx-3495282894{margin-top:2rem;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy95dWtpLnQvRGVza3RvcC9OZXh0SlNQcmFjdGljZS9ibG9nci1uZXh0anMtcHJpc21hL3BhZ2VzL3VzZXJmZWVkL1t1c2VySWRdLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUF3RGtCLEFBRzRCLEFBS1csQUFJWixnQkFDbEIsQ0FUcUMsV0FLckMsbUVBSkEiLCJmaWxlIjoiL1VzZXJzL3l1a2kudC9EZXNrdG9wL05leHRKU1ByYWN0aWNlL2Jsb2dyLW5leHRqcy1wcmlzbWEvcGFnZXMvdXNlcmZlZWQvW3VzZXJJZF0udHN4Iiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgR2V0U2VydmVyU2lkZVByb3BzIH0gZnJvbSBcIm5leHRcIjtcbmltcG9ydCBMYXlvdXQgZnJvbSBcIi4uLy4uL2NvbXBvbmVudHMvTGF5b3V0XCI7XG5pbXBvcnQgUG9zdCwgeyBQb3N0UHJvcHMgfSBmcm9tIFwiLi4vLi4vY29tcG9uZW50cy9Qb3N0XCI7XG5pbXBvcnQgeyBVc2VyUHJvcHMgfSBmcm9tIFwiLi4vdXBkYXRlLXVzZXJcIjtcbmltcG9ydCBwcmlzbWEgZnJvbSBcIi4uLy4uL2xpYi9wcmlzbWFcIjtcblxuZXhwb3J0IGNvbnN0IGdldFNlcnZlclNpZGVQcm9wczogR2V0U2VydmVyU2lkZVByb3BzID0gYXN5bmMgKHsgcGFyYW1zIH0pID0+IHtcbiAgY29uc29sZS5sb2coXCJrZXl3b3JkOiBcIiArIHBhcmFtcz8ua2V5d29yZCk7XG4gIGNvbnN0IHVzZXJJZCA9IE51bWJlcihwYXJhbXM/LnVzZXJJZCk7XG5cbiAgY29uc3QgdXNlclIgPSBhd2FpdCBwcmlzbWEudXNlci5maW5kVW5pcXVlKHtcbiAgICB3aGVyZToge1xuICAgICAgaWQ6IHVzZXJJZCxcbiAgICB9LFxuICB9KTtcbiAgY29uc3QgdXNlciA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodXNlclIpKTtcblxuICBjb25zdCBmZWVkc1IgPSBhd2FpdCBwcmlzbWEucG9zdC5maW5kTWFueSh7XG4gICAgd2hlcmU6IHtcbiAgICAgIGF1dGhvcklkOiB1c2VySWQsXG4gICAgICBwdWJsaXNoZWQ6IHRydWUsXG4gICAgfSxcbiAgICBpbmNsdWRlOiB7XG4gICAgICBhdXRob3I6IHtcbiAgICAgICAgc2VsZWN0OiB7IG5hbWU6IHRydWUgfSxcbiAgICAgIH0sXG4gICAgfSxcbiAgfSk7XG4gIGxldCBmZWVkc1UgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGZlZWRzUikpO1xuICBsZXQgZmVlZHMgPSBmZWVkc1Uuc29ydCgocDE6IFBvc3RQcm9wcywgcDI6IFBvc3RQcm9wcykgPT4ge1xuICAgIHJldHVybiBwMi5jcmVhdGVkQXQgPiBwMS5jcmVhdGVkQXQgPyAxIDogLTE7XG4gIH0pO1xuICByZXR1cm4ge1xuICAgIHByb3BzOiB7IGZlZWRzLCB1c2VyIH0sXG4gIH07XG59O1xuXG50eXBlIFByb3BzID0ge1xuICBmZWVkczogUG9zdFByb3BzW107XG4gIHVzZXI6IFVzZXJQcm9wcztcbn07XG5cbmNvbnN0IFVzZXJGZWVkOiBSZWFjdC5GQzxQcm9wcz4gPSAocHJvcHMpID0+IHtcbiAgcmV0dXJuIChcbiAgICA8TGF5b3V0PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlXCI+XG4gICAgICAgIDxoMT57cHJvcHMudXNlciAmJiBwcm9wcy51c2VyLm5hbWV9J3MgRmVlZDwvaDE+XG4gICAgICAgIDxtYWluPlxuICAgICAgICAgIHtwcm9wcy5mZWVkcy5tYXAoKHBvc3QpID0+IChcbiAgICAgICAgICAgIDxkaXYga2V5PXtwb3N0LmlkfSBjbGFzc05hbWU9XCJwb3N0XCI+XG4gICAgICAgICAgICAgIDxQb3N0IHBvc3Q9e3Bvc3R9IC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApKX1cbiAgICAgICAgPC9tYWluPlxuICAgICAgPC9kaXY+XG4gICAgICA8c3R5bGUganN4PntgXG4gICAgICAgIC5wb3N0IHtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgICAgICAgICB0cmFuc2l0aW9uOiBib3gtc2hhZG93IDAuMXMgZWFzZS1pbjtcbiAgICAgICAgfVxuXG4gICAgICAgIC5wb3N0OmhvdmVyIHtcbiAgICAgICAgICBib3gtc2hhZG93OiAxcHggMXB4IDNweCAjYWFhO1xuICAgICAgICB9XG5cbiAgICAgICAgLnBvc3QgKyAucG9zdCB7XG4gICAgICAgICAgbWFyZ2luLXRvcDogMnJlbTtcbiAgICAgICAgfVxuICAgICAgYH08L3N0eWxlPlxuICAgIDwvTGF5b3V0PlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgVXNlckZlZWQ7XG4iXX0= */\\n/*@ sourceURL=/Users/yuki.t/Desktop/NextJSPractice/blogr-nextjs-prisma/pages/userfeed/[userId].tsx */\"));\n};\n\n_c = UserFeed;\nexport var __N_SSP = true;\nexport default UserFeed;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserFeed\");","map":{"version":3,"sources":["/Users/yuki.t/Desktop/NextJSPractice/blogr-nextjs-prisma/pages/userfeed/[userId].tsx"],"names":["React","Layout","Post","UserFeed","props","user","name","feeds","map","post","id"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,IAAP,MAAgC,uBAAhC;;AAwCA,IAAMC,QAAyB,GAAG,SAA5BA,QAA4B,CAACC,KAAD,EAAW;AAC3C,SACE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA,wCAAe,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKA,KAAK,CAACC,IAAN,IAAcD,KAAK,CAACC,IAAN,CAAWC,IAA9B,YADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGF,KAAK,CAACG,KAAN,CAAYC,GAAZ,CAAgB,UAACC,IAAD;AAAA,WACf;AAAK,MAAA,GAAG,EAAEA,IAAI,CAACC,EAAf;AAAA,0CAA6B,MAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,MAAC,IAAD;AAAM,MAAA,IAAI,EAAED,IAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADe;AAAA,GAAhB,CADH,CAFF,CADF;AAAA;AAAA;AAAA,6pGADF;AA4BD,CA7BD;;KAAMN,Q;;AA+BN,eAAeA,QAAf","sourcesContent":["import React from \"react\";\nimport { GetServerSideProps } from \"next\";\nimport Layout from \"../../components/Layout\";\nimport Post, { PostProps } from \"../../components/Post\";\nimport { UserProps } from \"../update-user\";\nimport prisma from \"../../lib/prisma\";\n\nexport const getServerSideProps: GetServerSideProps = async ({ params }) => {\n  console.log(\"keyword: \" + params?.keyword);\n  const userId = Number(params?.userId);\n\n  const userR = await prisma.user.findUnique({\n    where: {\n      id: userId,\n    },\n  });\n  const user = JSON.parse(JSON.stringify(userR));\n\n  const feedsR = await prisma.post.findMany({\n    where: {\n      authorId: userId,\n      published: true,\n    },\n    include: {\n      author: {\n        select: { name: true },\n      },\n    },\n  });\n  let feedsU = JSON.parse(JSON.stringify(feedsR));\n  let feeds = feedsU.sort((p1: PostProps, p2: PostProps) => {\n    return p2.createdAt > p1.createdAt ? 1 : -1;\n  });\n  return {\n    props: { feeds, user },\n  };\n};\n\ntype Props = {\n  feeds: PostProps[];\n  user: UserProps;\n};\n\nconst UserFeed: React.FC<Props> = (props) => {\n  return (\n    <Layout>\n      <div className=\"page\">\n        <h1>{props.user && props.user.name}'s Feed</h1>\n        <main>\n          {props.feeds.map((post) => (\n            <div key={post.id} className=\"post\">\n              <Post post={post} />\n            </div>\n          ))}\n        </main>\n      </div>\n      <style jsx>{`\n        .post {\n          background: white;\n          transition: box-shadow 0.1s ease-in;\n        }\n\n        .post:hover {\n          box-shadow: 1px 1px 3px #aaa;\n        }\n\n        .post + .post {\n          margin-top: 2rem;\n        }\n      `}</style>\n    </Layout>\n  );\n};\n\nexport default UserFeed;\n"]},"metadata":{},"sourceType":"module"}