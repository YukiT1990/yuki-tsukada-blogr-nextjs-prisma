{"ast":null,"code":"var _jsxFileName = \"/Users/yuki.t/Desktop/NextJSPractice/blogr-nextjs-prisma/pages/search/[keyword].tsx\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport Layout from \"../../components/Layout\";\nimport prisma from \"../../lib/prisma\";\nimport Post from \"../../components/Post\";\nexport const getServerSideProps = async ({\n  params\n}) => {\n  console.log(\"keyword: \" + (params === null || params === void 0 ? void 0 : params.keyword));\n  const searchKeyword = params === null || params === void 0 ? void 0 : params.keyword.toString();\n  const usersR = await prisma.user.findMany({\n    where: {\n      name: {\n        contains: searchKeyword,\n        mode: \"insensitive\"\n      }\n    }\n  });\n  const users = JSON.parse(JSON.stringify(usersR));\n  const postsR = await prisma.post.findMany({\n    where: {\n      OR: {\n        title: {\n          contains: searchKeyword,\n          mode: \"insensitive\"\n        },\n        content: {\n          contains: searchKeyword,\n          mode: \"insensitive\"\n        }\n      }\n    },\n    include: {\n      author: {\n        select: {\n          name: true\n        }\n      }\n    }\n  });\n  const posts = JSON.parse(JSON.stringify(postsR));\n  return {\n    props: {\n      users,\n      posts\n    }\n  };\n};\n\nconst Search = props => {\n  return __jsx(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-3495282894\" + \" \" + \"page\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, __jsx(\"h1\", {\n    className: \"jsx-3495282894\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, \"Search Result\"), __jsx(\"main\", {\n    className: \"jsx-3495282894\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, props.users.length == 0 && __jsx(\"p\", {\n    className: \"jsx-3495282894\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 39\n    }\n  }, \"No match for users.\"), props.users.length > 0 && props.users.map(user => __jsx(\"div\", {\n    key: user.id,\n    className: \"jsx-3495282894\" + \" \" + \"post\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 15\n    }\n  }, __jsx(\"p\", {\n    className: \"jsx-3495282894\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }, user.name))), props.posts.length == 0 && __jsx(\"p\", {\n    className: \"jsx-3495282894\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 39\n    }\n  }, \"No match for posts.\"), props.posts.length > 0 && props.posts.map(post => __jsx(\"div\", {\n    key: post.id,\n    className: \"jsx-3495282894\" + \" \" + \"post\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 15\n    }\n  }, __jsx(Post, {\n    post: post,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  }))))), __jsx(_JSXStyle, {\n    id: \"3495282894\",\n    __self: this\n  }, \".post.jsx-3495282894{background:white;-webkit-transition:box-shadow 0.1s ease-in;transition:box-shadow 0.1s ease-in;}.post.jsx-3495282894:hover{box-shadow:1px 1px 3px #aaa;}.post.jsx-3495282894+.post.jsx-3495282894{margin-top:2rem;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy95dWtpLnQvRGVza3RvcC9OZXh0SlNQcmFjdGljZS9ibG9nci1uZXh0anMtcHJpc21hL3BhZ2VzL3NlYXJjaC9ba2V5d29yZF0udHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQTZFa0IsQUFHNEIsQUFLVyxBQUlaLGdCQUNsQixDQVRxQyxXQUtyQyxtRUFKQSIsImZpbGUiOiIvVXNlcnMveXVraS50L0Rlc2t0b3AvTmV4dEpTUHJhY3RpY2UvYmxvZ3ItbmV4dGpzLXByaXNtYS9wYWdlcy9zZWFyY2gvW2tleXdvcmRdLnRzeCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgR2V0U2VydmVyU2lkZVByb3BzIH0gZnJvbSBcIm5leHRcIjtcbmltcG9ydCBMYXlvdXQgZnJvbSBcIi4uLy4uL2NvbXBvbmVudHMvTGF5b3V0XCI7XG5pbXBvcnQgUm91dGVyIGZyb20gXCJuZXh0L3JvdXRlclwiO1xuaW1wb3J0IHByaXNtYSBmcm9tIFwiLi4vLi4vbGliL3ByaXNtYVwiO1xuaW1wb3J0IFBvc3QsIHsgUG9zdFByb3BzIH0gZnJvbSBcIi4uLy4uL2NvbXBvbmVudHMvUG9zdFwiO1xuaW1wb3J0IHsgVXNlclByb3BzIH0gZnJvbSBcIi4uL3VwZGF0ZS11c2VyXCI7XG5pbXBvcnQgeyBzdHJpbmdpZnkgfSBmcm9tIFwicXVlcnlzdHJpbmdcIjtcbmltcG9ydCBMaW5rIGZyb20gXCJuZXh0L2xpbmtcIjtcblxuZXhwb3J0IGNvbnN0IGdldFNlcnZlclNpZGVQcm9wczogR2V0U2VydmVyU2lkZVByb3BzID0gYXN5bmMgKHsgcGFyYW1zIH0pID0+IHtcbiAgY29uc29sZS5sb2coXCJrZXl3b3JkOiBcIiArIHBhcmFtcz8ua2V5d29yZCk7XG4gIGNvbnN0IHNlYXJjaEtleXdvcmQ6IHN0cmluZyA9IHBhcmFtcz8ua2V5d29yZC50b1N0cmluZygpO1xuXG4gIGNvbnN0IHVzZXJzUiA9IGF3YWl0IHByaXNtYS51c2VyLmZpbmRNYW55KHtcbiAgICB3aGVyZToge1xuICAgICAgbmFtZToge1xuICAgICAgICBjb250YWluczogc2VhcmNoS2V5d29yZCxcbiAgICAgICAgbW9kZTogXCJpbnNlbnNpdGl2ZVwiLFxuICAgICAgfSxcbiAgICB9LFxuICB9KTtcbiAgY29uc3QgdXNlcnMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHVzZXJzUikpO1xuXG4gIGNvbnN0IHBvc3RzUiA9IGF3YWl0IHByaXNtYS5wb3N0LmZpbmRNYW55KHtcbiAgICB3aGVyZToge1xuICAgICAgT1I6IHtcbiAgICAgICAgdGl0bGU6IHtcbiAgICAgICAgICBjb250YWluczogc2VhcmNoS2V5d29yZCxcbiAgICAgICAgICBtb2RlOiBcImluc2Vuc2l0aXZlXCIsXG4gICAgICAgIH0sXG4gICAgICAgIGNvbnRlbnQ6IHtcbiAgICAgICAgICBjb250YWluczogc2VhcmNoS2V5d29yZCxcbiAgICAgICAgICBtb2RlOiBcImluc2Vuc2l0aXZlXCIsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0sXG4gICAgaW5jbHVkZToge1xuICAgICAgYXV0aG9yOiB7XG4gICAgICAgIHNlbGVjdDogeyBuYW1lOiB0cnVlIH0sXG4gICAgICB9LFxuICAgIH0sXG4gIH0pO1xuICBjb25zdCBwb3N0cyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocG9zdHNSKSk7XG4gIHJldHVybiB7XG4gICAgcHJvcHM6IHsgdXNlcnMsIHBvc3RzIH0sXG4gIH07XG59O1xuXG50eXBlIFByb3BzID0ge1xuICB1c2VyczogVXNlclByb3BzW107XG4gIHBvc3RzOiBQb3N0UHJvcHNbXTtcbn07XG5cbmNvbnN0IFNlYXJjaDogUmVhY3QuRkM8UHJvcHM+ID0gKHByb3BzKSA9PiB7XG4gIHJldHVybiAoXG4gICAgPExheW91dD5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZVwiPlxuICAgICAgICA8aDE+U2VhcmNoIFJlc3VsdDwvaDE+XG4gICAgICAgIDxtYWluPlxuICAgICAgICAgIHtwcm9wcy51c2Vycy5sZW5ndGggPT0gMCAmJiA8cD5ObyBtYXRjaCBmb3IgdXNlcnMuPC9wPn1cbiAgICAgICAgICB7cHJvcHMudXNlcnMubGVuZ3RoID4gMCAmJlxuICAgICAgICAgICAgcHJvcHMudXNlcnMubWFwKCh1c2VyKSA9PiAoXG4gICAgICAgICAgICAgIDxkaXYga2V5PXt1c2VyLmlkfSBjbGFzc05hbWU9XCJwb3N0XCI+XG4gICAgICAgICAgICAgICAgPHA+e3VzZXIubmFtZX08L3A+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKSl9XG4gICAgICAgICAge3Byb3BzLnBvc3RzLmxlbmd0aCA9PSAwICYmIDxwPk5vIG1hdGNoIGZvciBwb3N0cy48L3A+fVxuICAgICAgICAgIHtwcm9wcy5wb3N0cy5sZW5ndGggPiAwICYmXG4gICAgICAgICAgICBwcm9wcy5wb3N0cy5tYXAoKHBvc3QpID0+IChcbiAgICAgICAgICAgICAgPGRpdiBrZXk9e3Bvc3QuaWR9IGNsYXNzTmFtZT1cInBvc3RcIj5cbiAgICAgICAgICAgICAgICA8UG9zdCBwb3N0PXtwb3N0fSAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICkpfVxuICAgICAgICA8L21haW4+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPHN0eWxlIGpzeD57YFxuICAgICAgICAucG9zdCB7XG4gICAgICAgICAgYmFja2dyb3VuZDogd2hpdGU7XG4gICAgICAgICAgdHJhbnNpdGlvbjogYm94LXNoYWRvdyAwLjFzIGVhc2UtaW47XG4gICAgICAgIH1cblxuICAgICAgICAucG9zdDpob3ZlciB7XG4gICAgICAgICAgYm94LXNoYWRvdzogMXB4IDFweCAzcHggI2FhYTtcbiAgICAgICAgfVxuXG4gICAgICAgIC5wb3N0ICsgLnBvc3Qge1xuICAgICAgICAgIG1hcmdpbi10b3A6IDJyZW07XG4gICAgICAgIH1cbiAgICAgIGB9PC9zdHlsZT5cbiAgICA8L0xheW91dD5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFNlYXJjaDtcbiJdfQ== */\\n/*@ sourceURL=/Users/yuki.t/Desktop/NextJSPractice/blogr-nextjs-prisma/pages/search/[keyword].tsx */\"));\n};\n\nexport default Search;","map":{"version":3,"sources":["/Users/yuki.t/Desktop/NextJSPractice/blogr-nextjs-prisma/pages/search/[keyword].tsx"],"names":["React","Layout","prisma","Post","getServerSideProps","params","console","log","keyword","searchKeyword","toString","usersR","user","findMany","where","name","contains","mode","users","JSON","parse","stringify","postsR","post","OR","title","content","include","author","select","posts","props","Search","length","map","id"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { GetServerSideProps } from \"next\";\nimport Layout from \"../../components/Layout\";\nimport Router from \"next/router\";\nimport prisma from \"../../lib/prisma\";\nimport Post, { PostProps } from \"../../components/Post\";\nimport { UserProps } from \"../update-user\";\nimport { stringify } from \"querystring\";\nimport Link from \"next/link\";\n\nexport const getServerSideProps: GetServerSideProps = async ({ params }) => {\n  console.log(\"keyword: \" + params?.keyword);\n  const searchKeyword: string = params?.keyword.toString();\n\n  const usersR = await prisma.user.findMany({\n    where: {\n      name: {\n        contains: searchKeyword,\n        mode: \"insensitive\",\n      },\n    },\n  });\n  const users = JSON.parse(JSON.stringify(usersR));\n\n  const postsR = await prisma.post.findMany({\n    where: {\n      OR: {\n        title: {\n          contains: searchKeyword,\n          mode: \"insensitive\",\n        },\n        content: {\n          contains: searchKeyword,\n          mode: \"insensitive\",\n        },\n      },\n    },\n    include: {\n      author: {\n        select: { name: true },\n      },\n    },\n  });\n  const posts = JSON.parse(JSON.stringify(postsR));\n  return {\n    props: { users, posts },\n  };\n};\n\ntype Props = {\n  users: UserProps[];\n  posts: PostProps[];\n};\n\nconst Search: React.FC<Props> = (props) => {\n  return (\n    <Layout>\n      <div className=\"page\">\n        <h1>Search Result</h1>\n        <main>\n          {props.users.length == 0 && <p>No match for users.</p>}\n          {props.users.length > 0 &&\n            props.users.map((user) => (\n              <div key={user.id} className=\"post\">\n                <p>{user.name}</p>\n              </div>\n            ))}\n          {props.posts.length == 0 && <p>No match for posts.</p>}\n          {props.posts.length > 0 &&\n            props.posts.map((post) => (\n              <div key={post.id} className=\"post\">\n                <Post post={post} />\n              </div>\n            ))}\n        </main>\n      </div>\n\n      <style jsx>{`\n        .post {\n          background: white;\n          transition: box-shadow 0.1s ease-in;\n        }\n\n        .post:hover {\n          box-shadow: 1px 1px 3px #aaa;\n        }\n\n        .post + .post {\n          margin-top: 2rem;\n        }\n      `}</style>\n    </Layout>\n  );\n};\n\nexport default Search;\n"]},"metadata":{},"sourceType":"module"}